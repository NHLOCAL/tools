<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> 砖转 专</title>
    <style>
        /* --- Material Design 3 Inspired Palette & Variables --- */
        :root {
            --md-sys-color-primary: #6750A4;
            --md-sys-color-on-primary: #FFFFFF;
            --md-sys-color-primary-container: #EADDFF;
            --md-sys-color-on-primary-container: #21005D;
            --md-sys-color-secondary: #625B71;
            --md-sys-color-on-secondary: #FFFFFF;
            --md-sys-color-secondary-container: #E8DEF8;
            --md-sys-color-on-secondary-container: #1D192B;
            --md-sys-color-tertiary: #7D5260;
            --md-sys-color-on-tertiary: #FFFFFF;
            --md-sys-color-tertiary-container: #FFD8E4;
            --md-sys-color-on-tertiary-container: #31111D;
            --md-sys-color-error: #B3261E;
            --md-sys-color-error-container: #F9DEDC;
            --md-sys-color-on-error-container: #410E0B;
            --md-sys-color-background: #FFFBFE;
            --md-sys-color-on-background: #1C1B1F;
            --md-sys-color-surface: #FFFBFE;
            --md-sys-color-on-surface: #1C1B1F;
            --md-sys-color-surface-variant: #E7E0EC;
            --md-sys-color-on-surface-variant: #49454F;
            --md-sys-color-outline: #79747E;
            --md-sys-color-shadow: #000000;
            --md-sys-color-surface-tint-layer: rgba(103, 80, 164, 0.08); /* Primary color with opacity */

            --font-family: 'Heebo', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            --border-radius-large: 16px;
            --border-radius-medium: 12px;
            --border-radius-small: 8px;
        }

        /* --- General Styling --- */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            font-size: 16px;
        }

        body {
            font-family: var(--font-family);
            background-color: var(--md-sys-color-background);
            color: var(--md-sys-color-on-background);
            display: grid;
            place-items: center;
            min-height: 100vh;
            padding: 1rem;
            line-height: 1.6;
        }
        
        @font-face {
            font-family: 'Heebo';
            src: url('https://fonts.gstatic.com/s/heebo/v22/NGSpv5_NC0k9P_v6Z_btbFsl.woff2') format('woff2');
            font-weight: 400;
        }
        @font-face {
            font-family: 'Heebo';
            src: url('https://fonts.gstatic.com/s/heebo/v22/NGSrv5_NC0k9P_v6Z_btbGEAYp_o0w.woff2') format('woff2');
            font-weight: 700;
        }


        /* --- Main Card Container --- */
        .enneagram-card {
            background-color: var(--md-sys-color-surface);
            border-radius: var(--border-radius-large);
            padding: 2rem;
            width: 100%;
            max-width: 600px;
            box-shadow: 0 4px 8px 3px rgba(var(--md-sys-color-shadow), 0.15), 0 1px 3px rgba(var(--md-sys-color-shadow), 0.3);
            border: 1px solid var(--md-sys-color-surface-variant);
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .hidden {
            display: none !important;
        }

        /* --- Typography --- */
        h1 {
            font-size: 2rem;
            font-weight: 700;
            color: var(--md-sys-color-primary);
            text-align: center;
        }
        
        h2 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--md-sys-color-on-surface);
            margin-bottom: 0.5rem;
        }
        
        h3 {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--md-sys-color-secondary);
        }

        p {
            color: var(--md-sys-color-on-surface-variant);
            text-align: center;
        }
        
        .intro-text {
            text-align: right;
            margin-bottom: 1rem;
        }

        /* --- Buttons --- */
        .button {
            display: inline-block;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            font-weight: 700;
            border-radius: var(--border-radius-large);
            border: none;
            cursor: pointer;
            text-align: center;
            transition: background-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            align-self: center;
        }

        .button-primary {
            background-color: var(--md-sys-color-primary);
            color: var(--md-sys-color-on-primary);
        }
        .button-primary:hover {
            background-color: #5C4193; /* Darker primary */
            box-shadow: 0 2px 4px rgba(var(--md-sys-color-shadow), 0.2);
        }
        
        .button-secondary {
             background-color: var(--md-sys-color-secondary-container);
            color: var(--md-sys-color-on-secondary-container);
        }
        .button-secondary:hover {
            background-color: #D4C9E4; /* Darker secondary container */
        }


        /* --- Question Screen --- */
        #question-container {
            width: 100%;
        }

        .progress-bar-container {
            width: 100%;
            background-color: var(--md-sys-color-surface-variant);
            border-radius: var(--border-radius-small);
            overflow: hidden;
            height: 12px;
            margin-bottom: 1.5rem;
        }

        .progress-bar {
            width: 0;
            height: 100%;
            background-color: var(--md-sys-color-primary);
            transition: width 0.3s ease-in-out;
        }

        #question-text {
            font-size: 1.25rem;
            color: var(--md-sys-color-on-surface);
            margin-bottom: 1.5rem;
            font-weight: 500;
            text-align: right;
            min-height: 80px;
        }

        .answer-options {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .answer-options label {
            display: block;
            padding: 1rem;
            background-color: var(--md-sys-color-surface);
            border: 2px solid var(--md-sys-color-outline);
            border-radius: var(--border-radius-medium);
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            text-align: right;
        }

        .answer-options label:hover {
            background-color: var(--md-sys-color-primary-container);
            border-color: var(--md-sys-color-primary);
        }

        .answer-options input[type="radio"] {
            display: none;
        }

        .answer-options input[type="radio"]:checked + label {
            background-color: var(--md-sys-color-primary-container);
            border-color: var(--md-sys-color-primary);
            color: var(--md-sys-color-on-primary-container);
            font-weight: 700;
        }

        /* --- Results Screen --- */
        #results-screen .intro-text {
             text-align: right;
        }
        
        .result-section {
            padding: 1.5rem;
            border-radius: var(--border-radius-medium);
            margin-bottom: 1rem;
        }
        
        .primary-result {
            background-color: var(--md-sys-color-primary-container);
            border: 2px solid var(--md-sys-color-primary);
        }
        .primary-result h2, .primary-result h3 {
             color: var(--md-sys-color-on-primary-container);
        }
        .primary-result p {
            color: var(--md-sys-color-on-primary-container);
            text-align: right;
        }
        
        .secondary-results h2 {
            text-align: right;
            margin-bottom: 1rem;
        }
        
        .secondary-result-item {
            background-color: var(--md-sys-color-secondary-container);
            padding: 1rem;
            border-radius: var(--border-radius-medium);
            margin-bottom: 0.75rem;
        }
         .secondary-result-item h3 {
             color: var(--md-sys-color-on-secondary-container);
        }
        .secondary-result-item p {
            color: var(--md-sys-color-on-secondary-container);
            text-align: right;
        }
        
        .disclaimer {
            font-size: 0.875rem;
            color: var(--md-sys-color-on-surface-variant);
            background-color: var(--md-sys-color-surface-variant);
            padding: 1rem;
            border-radius: var(--border-radius-medium);
            text-align: center;
        }
    </style>
</head>
<body>

    <main class="enneagram-card">

        <!-- Start Screen -->
        <div id="start-screen">
            <h1> 砖转: 专</h1>
            <p> 转 驻住 注 转 转 专 砖 爪 砖转.</p>
            <div class="intro-text">
                <p>砖!  拽爪专 砖驻  30 砖转, 砖注 注专  转 转 驻住 砖转  砖 驻  专.</p>
                <p>注 注  砖 转 转  砖专砖    专 ,  专拽 爪 住驻爪驻.  转砖转 转   转.</p>
                <p>转  拽 注专 5-7 拽转.</p>
                <p> 转 住注? </p>
            </div>
            <button id="start-btn" class="button button-primary"> 转!</button>
        </div>

        <!-- Question Screen -->
        <div id="question-screen" class="hidden">
            <div class="progress-bar-container">
                <div id="progress-bar" class="progress-bar"></div>
            </div>
            <div id="question-container">
                <p id="question-text"></p>
                <div id="answer-options" class="answer-options">
                    <!-- Options will be generated by JS -->
                </div>
            </div>
        </div>
        
        <!-- Results Screen -->
        <div id="results-screen" class="hidden">
            <h1>转爪转  砖</h1>
            <p class="intro-text"> 转 砖 转砖转 砖. 专,  拽转 转 住注 砖 注转 注爪转,  转转  砖注转.</p>
            
            <div id="primary-result-container" class="result-section primary-result">
                <!-- Primary result will be injected here -->
            </div>

            <div id="secondary-results-container" class="secondary-results">
                 <h2>驻住 住驻 砖砖驻注 注</h2>
                 <div id="secondary-items">
                    <!-- Secondary results will be injected here -->
                 </div>
            </div>

            <p class="disclaimer">
                <strong>砖 专:</strong> 专    注转 爪. 专 砖 砖驻注 住驻专 驻住,  专 砖  . 砖转砖 注   拽专,   转 注爪  转专.
            </p>
            
            <button onclick="location.reload()" class="button button-secondary">爪注 转  砖</button>

        </div>

    </main>

    <script>
        const questions = [
            // Type 1: The Reformer
            { text: "砖   注砖转 专 ' 砖爪专', 砖  砖 拽  专注.", type: 1 },
            { text: " 专砖/ 注转 拽专转 专转 转拽 注转 爪专 住专 住.", type: 1 },
            { text: "砖  拽专 驻 拽 砖祝 转 砖转驻专  .", type: 1 },
            // Type 2: The Helper
            { text: " 专砖/   注 注爪 砖 注专/转 砖 /转 爪专 砖.", type: 2 },
            { text: "拽砖  拽砖 注专,   转 专砖/ 爪注 转 专.", type: 2 },
            { text: "砖   专砖 /转 抓/  砖 专.", type: 2 },
            // Type 3: The Achiever
            { text: "爪 砖  专 砖 注 转; 砖  专转 爪/转 注 专.", type: 3 },
            { text: " 注/转 转 转 注爪 爪 砖  砖 转 专转 砖.", type: 3 },
            { text: "  转 拽/转 砖转 砖专/转 注 转转 转 爪.", type: 3 },
            { text: "驻注  砖砖/转 砖砖 注专 转 专拽 转  砖 砖/.", type: 3 },
            // Type 4: The Individualist
            { text: " 专砖/ 注转 拽专转 砖 砖 砖 专, 驻砖/转 专 砖注转 转 转.", type: 4 },
            { text: "专砖转 注拽 爪专转转  拽 专  砖.", type: 4 },
            { text: " 砖/转 驻, 拽专 转, 住/转 砖转.", type: 4 },
            // Type 5: The Investigator
            { text: "  驻专 砖拽拽    砖 注 爪专.", type: 5 },
            { text: " /转 爪专 注  注拽  专 注.", type: 5 },
            { text: "驻注  注祝/ 转 爪 砖专 砖转转祝 驻 驻注.", type: 5 },
            { text: " 专砖/ / 转专 砖砖  转  注 专砖 驻 砖 驻注/转.", type: 5 },
            // Type 6: The Loyalist
            { text: " 爪转  砖 ,   砖 注 转专砖 专注 转专.", type: 6 },
            { text: " /  砖 拽爪转 砖 住/转 注.", type: 6 },
            { text: "  驻拽驻拽 住转,   转 驻砖/转 专 .", type: 6 },
            // Type 7: The Enthusiast
            { text: "  驻 砖 转住转 砖转, 专砖 驻砖专转 转.", type: 7 },
            { text: "拽砖  转 注 砖注  专砖转 砖,  住 砖专 注住拽/ /转.", type:7 },
            { text: "  转 驻专拽 专 转转,  注转 转拽砖 住 转.", type: 7 },
            // Type 8: The Challenger
            { text: "  住专 砖专,  住住/转 拽转 砖 注 爪.", type: 8 },
            { text: "砖   注 注爪 注 砖 砖拽专 ,  /转  住专 爪拽.", type: 8 },
            { text: "  /转 砖专   注砖转  住 砖 .", type: 8 },
            // Type 9: The Peacemaker
            { text: "专 砖 砖   砖 专,  砖转/转 注 拽驻拽.", type: 9 },
            { text: " 注/转 专转 转  拽转  / 拽转 转 注 专.", type: 9 },
            { text: "驻注  转拽砖 注转   转 专爪,  '专' 注 专爪转 砖 专.", type: 9 },
            { text: "  专注 住, 专 砖 专砖  专转.", type: 9 },
        ];
        
        const typeInfo = {
            1: { name: "转拽 / 驻专驻拽爪住", description: "转  注 爪驻, 砖 爪拽 驻转 砖驻 注砖转 转 专 . 砖  住专  注爪 专.  砖  砖专, 专转 住专转 砖 驻 转 注 拽  转专. 转 专, 砖转 ." },
            2: { name: "注拽 / 注专", description: "转  ,  驻转, 砖爪 住驻拽 注爪 注专 转. 砖  转  专砖 转 爪专 专砖转 砖 专.  砖  驻转,   转 砖 爪专 拽砖专 注拽 砖注转. 转 专 砖 专爪 砖 ." },
            3: { name: "爪注住 / 爪", description: "转  砖驻转, 专 拽 专, 注 转 爪 . 转 注 爪 注 砖 转, 注专专 砖专 专.  砖   注爪, 注转 转 砖 住转 爪  住专转." },
            4: { name: "住 / 专拽", description: "转  爪专转, 专砖 注 注拽 专砖, 驻砖 专 砖注转 转 转. 砖  转 专转 转 驻  专 砖专 驻住驻住.  砖  转转, 爪 转 砖  转 注 驻 注砖专." },
            5: { name: "爪驻 / 拽专", description: "转  住拽专,  注 转驻住 , 砖砖祝  转 注 注拽. 砖  转 专 转专,  驻  转 砖注 转.  砖  注, 拽转 转 砖 砖 爪专 爪 转 转." },
            6: { name: " / 住驻拽", description: "转  专,  , 砖转 住 注  爪. 砖  转 爪驻转 注转 专砖 转 .  砖  抓, 住专转 转 砖 爪专 拽  转转 注专 砖 砖 ." },
            7: { name: "专驻转拽 / ", description: "转  驻, 住驻  砖转 , 砖转 驻砖 专 转 砖转 专砖转. 砖  转 专转 转 爪   爪 驻抓 专  住.  砖  转转, 砖转 转 砖 砖 专 爪专 专注转 砖." },
            8: { name: " / ", description: "转  拽, 住专 注 转, 砖 驻 拽转 驻拽  注  砖砖 . 砖  转砖拽 爪拽 转 注 砖 驻注.  砖  , 注爪 驻转 转 砖   注 砖." },
            9: { name: "砖 砖 / 砖专", description: "转  注, 转 拽, 注 转 专 爪专 专 砖 住. 转 注 拽砖,  转  爪 砖专 注 驻注专.  砖  爪转, 住转 转 砖 专注 专 爪专 住 注 ." }
        };
        
        const answerOptionsConfig = [
            { text: "  转专 转", value: 1 },
            { text: " 注", value: 2 },
            { text: "驻注 , 驻注 ", value: 3 },
            { text: " 专", value: 4 },
            { text: "转专 转 驻 拽", value: 5 }
        ];

        let currentQuestionIndex = 0;
        let scores = { 1: 0, 2: 0, 3: 0, 4: 0, 5: 0, 6: 0, 7: 0, 8: 0, 9: 0 };

        const startBtn = document.getElementById('start-btn');
        const startScreen = document.getElementById('start-screen');
        const questionScreen = document.getElementById('question-screen');
        const resultsScreen = document.getElementById('results-screen');
        const progressBar = document.getElementById('progress-bar');
        const questionText = document.getElementById('question-text');
        const answerOptionsContainer = document.getElementById('answer-options');
        
        // Shuffle questions for a better experience
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        startBtn.addEventListener('click', () => {
            shuffle(questions);
            startScreen.classList.add('hidden');
            questionScreen.classList.remove('hidden');
            displayQuestion();
        });

        function displayQuestion() {
            if (currentQuestionIndex < questions.length) {
                const currentQuestion = questions[currentQuestionIndex];
                
                // Update progress bar
                const progress = ((currentQuestionIndex) / questions.length) * 100;
                progressBar.style.width = `${progress}%`;
                
                // Update question text
                questionText.textContent = `砖 ${currentQuestionIndex + 1} 转 ${questions.length}: ${currentQuestion.text}`;

                // Generate answer options
                answerOptionsContainer.innerHTML = '';
                answerOptionsConfig.forEach(option => {
                    const optionId = `option-${option.value}`;
                    const radioInput = document.createElement('input');
                    radioInput.type = 'radio';
                    radioInput.name = 'answer';
                    radioInput.id = optionId;
                    radioInput.value = option.value;
                    radioInput.addEventListener('change', handleAnswerSelection);

                    const label = document.createElement('label');
                    label.htmlFor = optionId;
                    label.textContent = option.text;

                    answerOptionsContainer.appendChild(radioInput);
                    answerOptionsContainer.appendChild(label);
                });
            } else {
                showResults();
            }
        }
        
        function handleAnswerSelection(event) {
            const selectedValue = parseInt(event.target.value);
            const questionType = questions[currentQuestionIndex].type;
            scores[questionType] += selectedValue;

            currentQuestionIndex++;
            
            // Add a small delay for a smoother transition
            setTimeout(() => {
                displayQuestion();
            }, 300);
        }

        function showResults() {
            // Final progress bar update
            progressBar.style.width = '100%';
            
            questionScreen.classList.add('hidden');
            resultsScreen.classList.remove('hidden');

            const sortedScores = Object.entries(scores)
                .map(([type, score]) => ({ type: parseInt(type), score }))
                .sort((a, b) => b.score - a.score);

            const primaryType = sortedScores[0];
            const secondaryTypes = [sortedScores[1], sortedScores[2]];

            // Display primary result
            const primaryResultContainer = document.getElementById('primary-result-container');
            primaryResultContainer.innerHTML = `
                <h2>驻住  砖  专...</h2>
                <h3>驻住 ${primaryType.type}: ${typeInfo[primaryType.type].name}</h3>
                <p>${typeInfo[primaryType.type].description}</p>
            `;

            // Display secondary results
            const secondaryItemsContainer = document.getElementById('secondary-items');
            secondaryItemsContainer.innerHTML = '';
            secondaryTypes.forEach(st => {
                 secondaryItemsContainer.innerHTML += `
                    <div class="secondary-result-item">
                        <h3>驻住 ${st.type}: ${typeInfo[st.type].name}</h3>
                        <p>${typeInfo[st.type].description.split('. ')[0]}.</p> <!-- Show first sentence -->
                    </div>
                 `;
            });
        }
    </script>

</body>
</html>